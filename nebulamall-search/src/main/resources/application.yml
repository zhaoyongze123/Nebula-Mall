server:
  port: 10007
  servlet:
    context-path: /

spring:
  application:
    name: nebulamall-search
  elasticsearch:
    rest:
      uris: http://127.0.0.1:9200
    data:
      timeout: 60s
  cloud:
    nacos:
      discovery:
        server-addr: 127.0.0.1:8848
        namespace: 52bae48c-ee9c-4552-b33f-cb901931dffe
        ip: 127.0.0.1
      config:
        server-addr: 127.0.0.1:8848
        file-extension: yml
        namespace: e6d88238-3856-4951-88c1-1ec3d1c91130
        group: dev
      sentinel:
        transport:
          dashboard: localhost:8080
  
  redis:
    host: localhost
    port: 6379
    database: 0
    timeout: 1800000
    lettuce:
      pool:
        max-active: 20
        max-idle: 10
        min-idle: 5
  
  thymeleaf:
    cache: false
  
  session:
    store-type: redis

# 开启feign对sentinel的支持
feign:
  sentinel:
    enabled: true
# Logging Configuration
logging:
  level:
    root: INFO
    com.example.nebulamall: DEBUG
    org.elasticsearch: WARN
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/search.log
    max-size: 10MB
    max-history: 30

# 暴露所有端点
management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
